<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>基础部分 on Install Kubernetes from binaries</title>
    <link>http://localhost:1313/zh/docs/getting-started/</link>
    <description>Recent content in 基础部分 on Install Kubernetes from binaries</description>
    <generator>Hugo</generator>
    <language>zh</language>
    <atom:link href="http://localhost:1313/zh/docs/getting-started/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>一、基本信息和服务器准备</title>
      <link>http://localhost:1313/zh/docs/getting-started/basic-info-and-server-preparation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/zh/docs/getting-started/basic-info-and-server-preparation/</guid>
      <description>&lt;h2 id=&#34;一基本信息和服务器准备&#34;&gt;&#xA;  一、基本信息和服务器准备&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e4%b8%80%e5%9f%ba%e6%9c%ac%e4%bf%a1%e6%81%af%e5%92%8c%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%87%86%e5%a4%87&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;这部分记录了服务器准备信息。&lt;/p&gt;&#xA;&lt;h3 id=&#34;基本信息&#34;&gt;&#xA;  基本信息&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%9f%ba%e6%9c%ac%e4%bf%a1%e6%81%af&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;需要的准备内容：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;3 台能上网的 Linux 服务器，这次我用的是 Rocky Linux 8&lt;/li&gt;&#xA;&lt;li&gt;3 个同网段的 IP，挂在这 3 台服务器上&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;计划表如下：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;角色&lt;/th&gt;&#xA;          &lt;th&gt;IP&lt;/th&gt;&#xA;          &lt;th&gt;要在上面安装的组件&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;master&lt;/td&gt;&#xA;          &lt;td&gt;192.168.56.10&lt;/td&gt;&#xA;          &lt;td&gt;&lt;ul&gt;&lt;li&gt;etcd&lt;/li&gt;&lt;li&gt;kube-apiserver&lt;/li&gt; &lt;li&gt;kube-controller-manager&lt;/li&gt;&lt;li&gt;kube-scheduler&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;node01&lt;/td&gt;&#xA;          &lt;td&gt;192.168.56.11&lt;/td&gt;&#xA;          &lt;td&gt;&lt;ul&gt;&lt;li&gt;containerd&lt;/li&gt;&lt;li&gt;kubelet&lt;/li&gt; &lt;li&gt;kube-proxy&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;node02&lt;/td&gt;&#xA;          &lt;td&gt;192.168.56.12&lt;/td&gt;&#xA;          &lt;td&gt;&lt;ul&gt;&lt;li&gt;containerd&lt;/li&gt;&lt;li&gt;kubelet&lt;/li&gt; &lt;li&gt;kube-proxy&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;[!NOTE]&lt;br&gt;&#xA;项目中包含了一个给 Virtualbox 用的 Vagrantfile，用来快速启动 3 个服务器，知道怎么用的话可以用那个&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;服务器准备&#34;&gt;&#xA;  服务器准备&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%87%86%e5%a4%87&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;设置这 3 台服务器的 hostname&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hostnamectl set-hostname &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;master|node01|node01&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;把这三个 hostname 都写在 /etc/hosts 里面&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-/etc/hosts&#34; data-lang=&#34;/etc/hosts&#34;&gt;192.168.56.10 master&#xA;192.168.56.11 node01&#xA;192.168.56.12 node02&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;设置好时间和时区（根据自己的实际情况进行设置）&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;timedatectl set-timezone &amp;lt;你的时区&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在 3 台服务器上安装一些基础工具&lt;/p&gt;</description>
    </item>
    <item>
      <title>二、K8s 的证书和 Key</title>
      <link>http://localhost:1313/zh/docs/getting-started/certificates-and-keys/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/zh/docs/getting-started/certificates-and-keys/</guid>
      <description>&lt;h2 id=&#34;二k8s-的证书&#34;&gt;&#xA;  二、K8s 的证书&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e4%ba%8ck8s-%e7%9a%84%e8%af%81%e4%b9%a6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;K8s 各个组件之间的交互都是通过 HTTPS 实现的：controller 访问 apiserver、kubelet 访问 apiserver，甚至我们使用 kubectl 工具操作时，都是通过 HTTPS 连接到 apiserver。&lt;/p&gt;&#xA;&lt;p&gt;这与我们通过浏览器访问网站时使用的 HTTPS 类似，但 K8s 采用双向认证。不仅服务端需要证书和密钥，客户端也要准备自己的证书和密钥来证明身份。&lt;/p&gt;&#xA;&lt;p&gt;为了简化，接下来我们只准备几个证书，能共享的组件就共用这些证书。&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;证书&lt;/th&gt;&#xA;          &lt;th&gt;用到这个证书的组件&lt;/th&gt;&#xA;          &lt;th&gt;文件&lt;/th&gt;&#xA;          &lt;th&gt;角色&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;CA&lt;/td&gt;&#xA;          &lt;td&gt;所有&lt;/td&gt;&#xA;          &lt;td&gt;&lt;ul&gt;&lt;li&gt;ca-key.pem（Key）&lt;/li&gt;&lt;li&gt;ca.pem（证书）&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&#xA;          &lt;td&gt;根证书&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;API Server 证书&lt;/td&gt;&#xA;          &lt;td&gt;kube-apiserver&lt;/td&gt;&#xA;          &lt;td&gt;&lt;ul&gt;&lt;li&gt;apiserver-key.pem（Key）&lt;/li&gt;&lt;li&gt;apiserver.pem（证书）&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&#xA;          &lt;td&gt;API Server 的服务端证书&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Client 证书&lt;/td&gt;&#xA;          &lt;td&gt;各种组件都会用&lt;/td&gt;&#xA;          &lt;td&gt;&lt;ul&gt;&lt;li&gt;client-key.pem（Key）&lt;/li&gt;&lt;li&gt;client.pem（证书）&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&#xA;          &lt;td&gt;用来访问 API Server 的客户端证书&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Service Account 证书&lt;/td&gt;&#xA;          &lt;td&gt;kube-apiserver&lt;/td&gt;&#xA;          &lt;td&gt;&lt;ul&gt;&lt;li&gt;sa-key.pem（私钥）&lt;/li&gt;&lt;li&gt;sa-pub.pem（公钥）&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&#xA;          &lt;td&gt;Service Account JWT Token 的签发证书&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;&lt;p&gt;&lt;strong&gt;提示&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Service Account 证书是一对公私钥，和前面说到的 HTTPS 双向认证证书说的不是一个东西。这个后面会再提到。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;工具准备&#34;&gt;&#xA;  工具准备&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%b7%a5%e5%85%b7%e5%87%86%e5%a4%87&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;这个部分我们用 Cloudflare 的 SSL 工具 &lt;code&gt;cfssl&lt;/code&gt;。&lt;/p&gt;</description>
    </item>
    <item>
      <title></title>
      <link>http://localhost:1313/zh/docs/getting-started/hidden/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/zh/docs/getting-started/hidden/</guid>
      <description>&lt;h1 id=&#34;this-page-is-hidden-in-menu&#34;&gt;&#xA;  This page is hidden in menu&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#this-page-is-hidden-in-menu&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h1 id=&#34;quondam-non-pater-est-dignior-ille-eurotas&#34;&gt;&#xA;  Quondam non pater est dignior ille Eurotas&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#quondam-non-pater-est-dignior-ille-eurotas&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;latent-te-facies&#34;&gt;&#xA;  Latent te facies&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#latent-te-facies&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;Lorem markdownum arma ignoscas vocavit quoque ille texit mandata mentis ultimus,&#xA;frementes, qui in vel. Hippotades Peleus &lt;a href=&#34;http://gratia.net/tot-qua.php&#34;&gt;pennas&#xA;conscia&lt;/a&gt; cuiquam Caeneus quas.&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Pater demittere evincitque reddunt&lt;/li&gt;&#xA;&lt;li&gt;Maxime adhuc pressit huc Danaas quid freta&lt;/li&gt;&#xA;&lt;li&gt;Soror ego&lt;/li&gt;&#xA;&lt;li&gt;Luctus linguam saxa ultroque prior Tatiumque inquit&lt;/li&gt;&#xA;&lt;li&gt;Saepe liquitur subita superata dederat Anius sudor&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;cum-honorum-latona&#34;&gt;&#xA;  Cum honorum Latona&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#cum-honorum-latona&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;O fallor &lt;a href=&#34;http://www.spectataharundine.org/aquas-relinquit.html&#34;&gt;in sustinui&#xA;iussorum&lt;/a&gt; equidem.&#xA;Nymphae operi oris alii fronde parens dumque, in auro ait mox ingenti proxima&#xA;iamdudum maius?&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
